function init_dialog(attribs){var parameters;var name;var i;var form_name = document.getElementById('form_name'); resize_dialog(); if (!attribs) return false; if (attribs) parameters = attribs;	else parameters = window.dialogArguments; for(i=0;i<form_name.length;i++){ name = form_name[i].name; if(name){ switch(form_name[i].type) { case 'text': case 'textarea': case 'select-one': if(parameters[name]){ if(name == 'width' || name == 'height'){ parameters[name] = parameters[name].replace('px', ''); } eval("form_name."+name+".value = parameters[name];"); if(name == "rows" || name == "columns"){ eval("form_name."+name+".disabled=true;"); } } break; case 'checkbox': if(parameters[name]){ eval("var el = form_name."+name); el.checked = true; if(name == "background"){ window.is_init = true; document.getElementById(el.id+'_temp_image').src = parameters[name]; }else{ if(!(name == 'Play' || name == 'Loop' || name == 'Menu' || name == 'checked' || name == 'selected' || name == 'multiple' || name == 'noWrap' || name == 'borderCollapse')){ document.getElementById(el.id+'_table').setAttribute('bgColor', parameters[name]); } } } break; case 'radio': if(parameters[name]){ eval("document.all."+name+"_"+parameters[name]+".checked=true;"); } break; default: break; } } } return true; }function get_parameters(){var parameters;var radio_done;var i,j,k;var name; parameters = new Array(); radio_done = new Array(); j=0; for(i=0;i<form_name.length;i++){ name = form_name[i].name; if(name){ switch(form_name[i].type){ case 'text': case 'textarea': case 'select-one': parameters[j] = name+"="+(eval("form_name."+name+".value")); j++; break; case 'checkbox': eval("var el = form_name."+name); parameters[j] = name+"="; is_checked = el.checked?el.checked:''; if(name == 'block_announce' || name == 'Play' || name == 'Loop' || name == 'Menu' || name == 'checked' || name == 'selected' || name == 'multiple' || name == 'noWrap' || name == 'borderCollapse'){ if ((name == 'checked' || name == 'selected' || name == 'multiple' || name == 'noWrap') && is_checked) { is_checked = name; } if (name == 'borderCollapse' && is_checked) is_checked = 'collapse'; parameters[j] += is_checked; }else{ if(is_checked){ if(name == "background"){ parameters[j] += document.getElementById(el.id+'_image').src; }else{ parameters[j] += document.getElementById(el.id+'_table').getAttribute('bgColor'); } } } j++; break; case 'radio': if(!radio_done[name]){ object = eval("form_name."+name); for(k=0;k<object.length;k++){ if(object[k].checked){ parameters[j] = name+"="+object[k].value; j++; break; } } radio_done[name] = true; } break; default: break; } } } return parameters;}function edit_object(object, params){var param;var i;var no_href = false;var no_name = false; for(i=0;i<params.length;i++){ param = params[i].match(/([^=]*)=([\s|\S|\n]*)/); if(param[1] != 'rows' && param[1] != 'columns' || object.tagName == "TEXTAREA"){ if((object.tagName == "TABLE" || object.tagName == "IMG") && (param[1]=='width' || param[1]=='height' || param[1] == 'textAlign' || param[1] == 'borderCollapse')){ eval("object.style."+param[1]+" = param[2];"); if (param[1] == 'textAlign') { var old_bc = object.style.borderCollapse; object.style.borderCollapse = object.style.borderCollapse?'':'collapse'; object.style.borderCollapse = old_bc; } }else{ if(param[2]){ object.setAttribute(param[1], param[2]); }else{ object.removeAttribute(param[1]); } if(param[1] == 'href' && !param[2]){ no_href = true; } if (no_href) { object.removeNode(false); return; } } } } if(object.tagName == 'TEXTAREA'){ object.removeAttribute('style'); }}function resize_dialog(){ window.dialogWidth = window.document.body.scrollWidth - window.document.body.clientWidth + parseInt(window.dialogWidth) + 'px'; window.dialogHeight = window.document.body.scrollHeight - window.document.body.clientHeight + parseInt(window.dialogHeight) + 'px';return; var form_name = window.document.form_name; var url_td = document.all.url_td; var url_text = document.all.url_text; if (form_name && url_td && url_text) {	url_text.style.width = parseInt(window.dialogWidth) - 6 - parseInt(url_td.clientWidth) + 'px'; }}function set_color(){var name;var obj;var color;	if(window.event.srcElement.name){ name = window.event.srcElement.id;	}else{ obj = get_previous_object(window.event.srcElement, "TABLE"); name = obj.id; name_parts = name.match(/^(.+)_([^_]+)$/); name = name_parts[1];	}	var color_table = document.getElementById(name + '_table');	color = pick_color("dialog", color_table.bgColor);	if(color){ color_table.bgColor = color; eval("form_name."+name+".checked = true;"); if (typeof(update_preview) == 'function') update_preview();	}}function set_image(){var id;var old_src;var old_params;var params;var src;var width;var height;var param;var i;	id = window.event.srcElement.id;	if (window.event.srcElement.tagName == 'IMG') { id = id.replace(/_image$/, '');	}	var old_src = document.getElementById(id+'_image').getAttribute('src', 2);	old_params = new Array();	if (old_src.search("images/space.gif") < 0) { old_params['src'] = old_src;	}	old_params['name'] = id;	show_image_dialog(old_params, "dialog");}function get_previous_object(obj,tag_name) { if(obj){ if(obj.className == "re_editor") return null; if(obj.tagName != tag_name){ obj = get_previous_object(obj.parentNode, tag_name); } } return(obj);}function show_image_dialog(attrib, name){	return show_object_dialog('image', attrib, name);}function show_object_dialog(object, attrib, name){var w;var h;	if(!object) return;	if(!name) var name = active_rich.name; switch(object){ case 'image': w = 410; h = 440; break; default: return;	} if (!attrib) { var attrib = new Array();	}	attrib['parent_win'] = window;	return showModalDialog(rich_path+"dialog_"+object+rich_dialog_ext+"?files_path="+eval(name+"_files_path")+"&files_url="+eval(name+"_files_url")+"&lang="+eval(name+"_lang")+"&name="+name+"&re_ext="+rich_dialog_ext+"&"+rich_sess_param+"&110903jjjjjjjjj", attrib, "dialogWidth:"+w+"px; dialogHeight:"+h+"px; status:no; scroll:no; help:no");}function pick_color(name, color){	if(!name) var name = active_rich.name; return showModalDialog(rich_path+"pick_color"+rich_dialog_ext+"?lang="+eval(name+"_lang")+"&110903f", color, "dialogWidth:445px; dialogHeight:140px; status:no; scroll:no; help:no");}function set_preview_table_image(object, url, w, h){var preview_size;var name; preview_size = 100; w = parseInt(w); h = parseInt(h); if(w > h){ object.width = preview_size; object.height = preview_size*h/w; }else{ object.height = preview_size; object.width = preview_size*w/h; } object.src = url; object.alt = url; var id = String(object.id).replace(/_image$/, ''); document.getElementById(id).checked = true;	if (typeof(update_preview) == 'function') update_preview();}function re_upload(){ if (window.is_local_file) { window.is_local_file = false; document.local_files.local_files_form.upload_only.value= "1"; document.local_files.show_loading_div(); document.local_files.local_files_form.submit(); return;	}}